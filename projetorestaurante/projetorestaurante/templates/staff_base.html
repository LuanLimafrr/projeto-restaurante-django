{% extends "base.html" %}
{% load static %}
{% load auth_extras %} {% block content %}
<div class="row g-4">

    <div class="col-lg-3 col-xl-2">
        <div class="list-group shadow-sm sticky-top" style="top: 70px;">
            
            {% comment %}
            ******************************************************************
            * Links que TODO O STAFF (incluindo Recepcionista) pode ver
            ******************************************************************
            {% endcomment %}
            
            <a href="{% url 'gerenciar_fila' %}"
               class="list-group-item list-group-item-action d-flex justify-content-between align-items-center {% if 'gerenciar_fila' in request.resolver_match.view_name or 'alocar_cliente_na_fila' in request.resolver_match.view_name %}active{% endif %}">
                <span><i class="bi bi-person-lines-fill me-2"></i>Gerenciar Fila</span>
                {% if fila_pendente_count > 0 %}<span class="badge bg-danger rounded-pill">{{ fila_pendente_count }}</span>{% endif %}
            </a>
            
            {% comment %}
            ******************************************************************
            * Bloco de Links que SÓ O GRUPO 'Gerente' pode ver
            ******************************************************************
            {% endcomment %}
            {% if request.user|has_group:"Gerente" %}

                <a href="{% url 'mapa_mesas' %}"
                   class="list-group-item list-group-item-action d-flex justify-content-between align-items-center {% if request.resolver_match.view_name == 'mapa_mesas' %}active{% endif %}">
                    <span><i class="bi bi-grid-3x3-gap me-2"></i>PDV Mesas</span>
                </a>
            
                <a href="{% url 'gerenciar_reservas' %}"
                   class="list-group-item list-group-item-action d-flex justify-content-between align-items-center {% if 'gerenciar_reservas' in request.resolver_match.view_name or 'historico_reservas' in request.resolver_match.view_name %}active{% endif %}">
                    <span><i class="bi bi-calendar3 me-2"></i>Gerenciar Reservas</span>
                    {% if reservas_pendente_count > 0 %}<span class="badge bg-danger rounded-pill">{{ reservas_pendente_count }}</span>{% endif %}
                </a>

                <a href="{% url 'gerenciar_cardapio' %}"
                   class="list-group-item list-group-item-action d-flex justify-content-between align-items-center {% if 'cardapio' in request.resolver_match.app_name and 'exibir_cardapio' not in request.resolver_match.view_name %}active{% endif %}">
                    <span><i class="bi bi-pencil-square me-2"></i>Gerenciar Cardápio</span>
                </a>
                
                <a href="{% url 'relatorio_diario' %}"
                   class="list-group-item list-group-item-action d-flex justify-content-between align-items-center {% if 'relatorio_diario' in request.resolver_match.view_name %}active{% endif %}">
                    <span><i class="bi bi-graph-up me-2"></i>Relatório Diário</span>
                </a>

            {% endif %}
            
            {% comment %}
            ******************************************************************
            * FIM DOS BLOCOS DE LINKS
            ******************************************************************
            {% endcomment %}

        </div>
    </div>

    <div class="col-lg-9 col-xl-10">
        {% block main_content %}
        {% endblock %}
    </div>

</div> 
{% endblock %}
{% extends "base.html" %}

{% block title %}Confirmar Deleção{% endblock %}

{% block content %}
<h2 class="mb-4 text-danger">Confirmar Deleção</h2>

<div class="alert alert-danger" role="alert">
    <strong>Atenção!</strong> Você tem certeza que deseja deletar permanentemente {% if tipo %}a {{ tipo }}{% else %}este objeto{% endif %}:
    <h4 class="mt-2">"{{ objeto }}"</h4>
    {% if tipo == 'Categoria' and objeto.itens.exists %}
        <p class="mt-3"><strong>AVISO:</strong> Esta categoria contém itens. Remova os itens antes de deletar a categoria.</p>
    {% endif %}
</div>

<form method="POST">
    {% csrf_token %}
    {% if tipo == 'Categoria' and objeto.itens.exists %}
        <button type="submit" class="btn btn-danger" disabled>Deletar (Remova os Itens Primeiro)</button>
    {% else %}
         <button type="submit" class="btn btn-danger">Sim, Deletar Permanentemente</button>
    {% endif %}
    <a href="{% url 'gerenciar_cardapio' %}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}